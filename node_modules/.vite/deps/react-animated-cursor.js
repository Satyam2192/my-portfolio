import {
  require_jsx_runtime
} from "./chunk-U73TBONF.js";
import {
  require_react
} from "./chunk-ZGRSIX2Q.js";
import {
  __toESM
} from "./chunk-ROME4SDB.js";

// node_modules/react-animated-cursor/dist/index.es.js
var import_jsx_runtime = __toESM(require_jsx_runtime());
var import_react = __toESM(require_react());
var __assign = function() {
  __assign = Object.assign || function __assign2(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s)
        if (Object.prototype.hasOwnProperty.call(s, p))
          t[p] = s[p];
    }
    return t;
  };
  return __assign.apply(this, arguments);
};
function useEventListener(eventName, handler, element) {
  if (element === void 0) {
    element = window;
  }
  var savedHandler = (0, import_react.useRef)(null);
  (0, import_react.useEffect)(function() {
    savedHandler.current = handler;
  }, [handler]);
  (0, import_react.useEffect)(function() {
    var isSupported = element && element.addEventListener;
    if (!isSupported)
      return;
    var eventListener = function(event) {
      if (savedHandler.current) {
        savedHandler.current(event);
      }
    };
    element.addEventListener(eventName, eventListener);
    return function() {
      element.removeEventListener(eventName, eventListener);
    };
  }, [eventName, element]);
}
var IsDevice = function() {
  if (typeof navigator === "undefined")
    return;
  var ua = navigator.userAgent;
  return {
    info: ua,
    Android: function() {
      return ua.match(/Android/i);
    },
    BlackBerry: function() {
      return ua.match(/BlackBerry/i);
    },
    IEMobile: function() {
      return ua.match(/IEMobile/i);
    },
    iOS: function() {
      return ua.match(/iPhone|iPad|iPod/i);
    },
    iPad: function() {
      return ua.match(/Mac/) && navigator.maxTouchPoints && navigator.maxTouchPoints > 2;
    },
    OperaMini: function() {
      return ua.match(/Opera Mini/i);
    },
    /**
     * Any Device
     */
    any: function() {
      return IsDevice.Android() || IsDevice.BlackBerry() || IsDevice.iOS() || IsDevice.iPad() || IsDevice.OperaMini() || IsDevice.IEMobile();
    }
  };
}();
function CursorCore(_a) {
  var _b = _a.clickables, clickables = _b === void 0 ? [
    "a",
    'input[type="text"]',
    'input[type="email"]',
    'input[type="number"]',
    'input[type="submit"]',
    'input[type="image"]',
    "label[for]",
    "select",
    "textarea",
    "button",
    ".link"
  ] : _b, _c = _a.color, color = _c === void 0 ? "220, 90, 90" : _c, _d = _a.innerScale, innerScale = _d === void 0 ? 0.6 : _d, _e = _a.innerSize, innerSize = _e === void 0 ? 8 : _e, innerStyle = _a.innerStyle, _f = _a.outerAlpha, outerAlpha = _f === void 0 ? 0.4 : _f, _g = _a.outerScale, outerScale = _g === void 0 ? 6 : _g, _h = _a.outerSize, outerSize = _h === void 0 ? 8 : _h, outerStyle = _a.outerStyle, _j = _a.showSystemCursor, showSystemCursor = _j === void 0 ? false : _j, _k = _a.trailingSpeed, trailingSpeed = _k === void 0 ? 8 : _k;
  var cursorOuterRef = (0, import_react.useRef)(null);
  var cursorInnerRef = (0, import_react.useRef)(null);
  var requestRef = (0, import_react.useRef)(null);
  var previousTimeRef = (0, import_react.useRef)(null);
  var _l = (0, import_react.useState)({
    x: 0,
    y: 0
  }), coords = _l[0], setCoords = _l[1];
  var _m = (0, import_react.useState)(false), isVisible = _m[0], setIsVisible = _m[1];
  var _o = (0, import_react.useState)(false), isActive = _o[0], setIsActive = _o[1];
  var _p = (0, import_react.useState)(false), isActiveClickable = _p[0], setIsActiveClickable = _p[1];
  var endX = (0, import_react.useRef)(0);
  var endY = (0, import_react.useRef)(0);
  var onMouseMove = (0, import_react.useCallback)(function(event) {
    var clientX = event.clientX, clientY = event.clientY;
    setCoords({ x: clientX, y: clientY });
    cursorInnerRef.current.style.top = "".concat(clientY, "px");
    cursorInnerRef.current.style.left = "".concat(clientX, "px");
    endX.current = clientX;
    endY.current = clientY;
  }, []);
  var animateOuterCursor = (0, import_react.useCallback)(
    function(time) {
      if (previousTimeRef.current !== void 0) {
        coords.x += (endX.current - coords.x) / trailingSpeed;
        coords.y += (endY.current - coords.y) / trailingSpeed;
        cursorOuterRef.current.style.top = "".concat(coords.y, "px");
        cursorOuterRef.current.style.left = "".concat(coords.x, "px");
      }
      previousTimeRef.current = time;
      requestRef.current = requestAnimationFrame(animateOuterCursor);
    },
    [requestRef]
    // eslint-disable-line
  );
  (0, import_react.useEffect)(function() {
    requestRef.current = requestAnimationFrame(animateOuterCursor);
    return function() {
      return cancelAnimationFrame(requestRef.current);
    };
  }, [animateOuterCursor]);
  var getScaleAmount = function(orignalSize, scaleAmount) {
    return "".concat(parseInt(String(orignalSize * scaleAmount)), "px");
  };
  var scaleBySize = (0, import_react.useCallback)(function(cursorRef, orignalSize, scaleAmount) {
    if (cursorRef) {
      cursorRef.style.height = getScaleAmount(orignalSize, scaleAmount);
      cursorRef.style.width = getScaleAmount(orignalSize, scaleAmount);
    }
  }, []);
  var onMouseDown = (0, import_react.useCallback)(function() {
    return setIsActive(true);
  }, []);
  var onMouseUp = (0, import_react.useCallback)(function() {
    return setIsActive(false);
  }, []);
  var onMouseEnterViewport = (0, import_react.useCallback)(function() {
    return setIsVisible(true);
  }, []);
  var onMouseLeaveViewport = (0, import_react.useCallback)(function() {
    return setIsVisible(false);
  }, []);
  useEventListener("mousemove", onMouseMove);
  useEventListener("mousedown", onMouseDown);
  useEventListener("mouseup", onMouseUp);
  useEventListener("mouseover", onMouseEnterViewport);
  useEventListener("mouseout", onMouseLeaveViewport);
  (0, import_react.useEffect)(function() {
    if (isActive) {
      scaleBySize(cursorInnerRef.current, innerSize, innerScale);
      scaleBySize(cursorOuterRef.current, outerSize, outerScale);
    } else {
      scaleBySize(cursorInnerRef.current, innerSize, 1);
      scaleBySize(cursorOuterRef.current, outerSize, 1);
    }
  }, [innerSize, innerScale, outerSize, outerScale, scaleBySize, isActive]);
  (0, import_react.useEffect)(function() {
    if (isActiveClickable) {
      scaleBySize(cursorInnerRef.current, innerSize, innerScale * 1.2);
      scaleBySize(cursorOuterRef.current, outerSize, outerScale * 1.4);
    }
  }, [
    innerSize,
    innerScale,
    outerSize,
    outerScale,
    scaleBySize,
    isActiveClickable
  ]);
  (0, import_react.useEffect)(function() {
    if (isVisible) {
      cursorInnerRef.current.style.opacity = "1";
      cursorOuterRef.current.style.opacity = "1";
    } else {
      cursorInnerRef.current.style.opacity = "0";
      cursorOuterRef.current.style.opacity = "0";
    }
  }, [isVisible]);
  (0, import_react.useEffect)(function() {
    var clickableEls = document.querySelectorAll(clickables.join(","));
    clickableEls.forEach(function(el) {
      if (!showSystemCursor)
        el.style.cursor = "none";
      el.addEventListener("mouseover", function() {
        setIsActive(true);
      });
      el.addEventListener("click", function() {
        setIsActive(true);
        setIsActiveClickable(false);
      });
      el.addEventListener("mousedown", function() {
        setIsActiveClickable(true);
      });
      el.addEventListener("mouseup", function() {
        setIsActive(true);
      });
      el.addEventListener("mouseout", function() {
        setIsActive(false);
        setIsActiveClickable(false);
      });
    });
    return function() {
      clickableEls.forEach(function(el) {
        el.removeEventListener("mouseover", function() {
          setIsActive(true);
        });
        el.removeEventListener("click", function() {
          setIsActive(true);
          setIsActiveClickable(false);
        });
        el.removeEventListener("mousedown", function() {
          setIsActiveClickable(true);
        });
        el.removeEventListener("mouseup", function() {
          setIsActive(true);
        });
        el.removeEventListener("mouseout", function() {
          setIsActive(false);
          setIsActiveClickable(false);
        });
      });
    };
  }, [isActive, clickables, showSystemCursor]);
  var coreStyles = {
    zIndex: 999,
    display: "block",
    position: "fixed",
    borderRadius: "50%",
    pointerEvents: "none",
    transform: "translate(-50%, -50%)",
    transition: "opacity 0.15s ease-in-out, height 0.2s ease-in-out, width 0.2s ease-in-out"
  };
  var styles = {
    cursorInner: __assign(__assign({ width: innerSize, height: innerSize, backgroundColor: "rgba(".concat(color, ", 1)") }, coreStyles), innerStyle && innerStyle),
    cursorOuter: __assign(__assign({ width: outerSize, height: outerSize, backgroundColor: "rgba(".concat(color, ", ").concat(outerAlpha, ")") }, coreStyles), outerStyle && outerStyle)
  };
  if (!showSystemCursor)
    document.body.style.cursor = "none";
  return (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, { children: [(0, import_jsx_runtime.jsx)("div", { ref: cursorOuterRef, style: styles.cursorOuter }), (0, import_jsx_runtime.jsx)("div", { ref: cursorInnerRef, style: styles.cursorInner })] });
}
function AnimatedCursor(_a) {
  var clickables = _a.clickables, color = _a.color, innerScale = _a.innerScale, innerSize = _a.innerSize, innerStyle = _a.innerStyle, outerAlpha = _a.outerAlpha, outerScale = _a.outerScale, outerSize = _a.outerSize, outerStyle = _a.outerStyle, showSystemCursor = _a.showSystemCursor, trailingSpeed = _a.trailingSpeed;
  if (typeof navigator !== "undefined" && IsDevice.any()) {
    return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, {});
  }
  return (0, import_jsx_runtime.jsx)(CursorCore, { clickables, color, innerScale, innerSize, innerStyle, outerAlpha, outerScale, outerSize, outerStyle, showSystemCursor, trailingSpeed });
}
export {
  AnimatedCursor as default
};
//# sourceMappingURL=react-animated-cursor.js.map
